parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"BSXI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.populateKeysMap=exports.keysMap=void 0;var e={};exports.keysMap=e;var o=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"],r=function(){o.includes(event.code)&&(e[event.code]="keydown"==event.type)};exports.populateKeysMap=r;
},{}],"Dryx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ctx=exports.canvas=void 0;var e=document.getElementById("board");exports.canvas=e;var t=e.getContext("2d");exports.ctx=t;
},{}],"04B3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetHero=exports.drawHero=exports.hero=void 0;var e=require("./canvas"),t=require("./keys");function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a={speed:6,width:30,height:30,x:e.canvas.width/2-20,y:e.canvas.height-60,hit:!1,opacity:1},i=r({},a);exports.hero=i;var n=function(){t.keysMap.ArrowUp&&(i.y-=i.speed),t.keysMap.ArrowDown&&(i.y+=i.speed),t.keysMap.ArrowLeft&&(i.x-=i.speed),t.keysMap.ArrowRight&&(i.x+=i.speed),i.x=Math.max(Math.min(i.x,e.canvas.width-i.width),0),i.y=Math.max(Math.min(i.y,e.canvas.height-i.height),0)},c=-1,p=function(){n(),i.hit?(i.opacity+=.08*c,i.opacity<=.2&&(c=1),i.opacity>=1&&(c=-1),e.ctx.fillStyle="rgb(223, 147, 80, ".concat(i.opacity,")")):(i.opacity=1,e.ctx.fillStyle="rgb(0, 0, 0, ".concat(i.opacity,")")),e.ctx.fillRect(i.x,i.y,i.width,i.height)};exports.drawHero=p;var s=function(){exports.hero=i=r({},a)};exports.resetHero=s;
},{"./canvas":"Dryx","./keys":"BSXI"}],"NO7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.collision=void 0;var e=function(e,t){var i=t.x+t.width>=e.x&&t.x<=e.x+e.width,o=t.y+t.height>=e.y&&t.y<=e.y+e.height;return i&&o};exports.collision=e;
},{}],"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=void 0;var e=function(e,r){return Math.random()*(e-r)+r};exports.random=e;
},{}],"AP9e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetLife=exports.generateLife=exports.drawLife=exports.life=exports.lifeDefault=void 0;var e=require("./canvas"),r=require("./hero"),t=require("./collision"),i=require("./game"),o=require("./utils");function n(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(r){l(e,r,t[r])})}return e}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var a={width:10,height:10,collided:!1,y:-500,x:100};exports.lifeDefault=a;var c=n({},a);exports.life=c;var f=function(){(0,t.collision)(c,r.hero)&&(i.game.lifes+=1,c.y=-100,c.collided=!0),c.y+=c.speed},s=function(){c.collided||(f(),e.ctx.fillStyle="rgb(25, 174, 97)",e.ctx.fillRect(c.x,c.y,c.width,c.height))};exports.drawLife=s;var u=function(){(c.y<0||c.y>e.canvas.height)&&(c.x=(0,o.random)(10,e.canvas.width-20),c.y=(0,o.random)(-200,-800),c.speed=(0,o.random)(1,3),c.collided=!1)};exports.generateLife=u;var d=function(){exports.life=c=n({},a)};exports.resetLife=d;
},{"./canvas":"Dryx","./hero":"04B3","./collision":"NO7M","./game":"QcRT","./utils":"FO+Z"}],"QcRT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLevel=exports.gameOver=exports.reset=exports.drawStatusBar=exports.game=exports.gameDefault=exports.statusBar=void 0;var e=require("./life"),t=require("./hero"),r=require("./enemies");function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){s(e,t,r[t])})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=document.getElementById("status-bar");exports.statusBar=n;var o=document.getElementById("lifes"),u=document.getElementById("game-status"),i=document.getElementById("stage"),l={lifes:1,stage:0,paused:!0,over:!1};exports.gameDefault=l;var p=a({},l);exports.game=p;var c={lifes:null,stage:null,paused:null},f=function(){p.lifes!==c.lifes&&(o.innerHTML="♥ ".concat(p.lifes),c.lifes=p.lifes),p.paused!==c.paused&&(u.innerHTML="".concat(p.paused?"&#10074;&#10074;":"▶"),c.paused=p.paused),p.stage!==c.stage&&(i.innerText="Stage ".concat(p.stage),c.stage=p.stage)};exports.drawStatusBar=f;var g=function(){(0,t.resetHero)(),(0,e.resetLife)(),(0,r.resetEnemies)(),exports.game=p=a({},l)};exports.reset=g;var d=function(){p.paused=!0,p.over=!0};exports.gameOver=d;var m=function(){p.stage+=1,(0,e.generateLife)(),(0,r.generateEnemies)()};exports.updateLevel=m;
},{"./life":"AP9e","./hero":"04B3","./enemies":"0Hh9"}],"0Hh9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetEnemies=exports.drawEnemies=exports.generateEnemies=void 0;var e=require("../canvas"),r=require("../hero"),t=require("../collision"),n=require("../game"),i=require("../utils");function o(e){return c(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}var u=50,h=[],f=function(){h=[].concat(o(h),o(o(Array(u+n.game.stage).keys()).map(function(t){return{speed:(0,i.random)(.1,Math.min(1+n.game.stage,r.hero.speed-1)),width:30,height:30,x:(0,i.random)(-20,e.canvas.width-20),y:(0,i.random)(-1e3,-30)}})))};exports.generateEnemies=f;var l=function(e){!r.hero.hit&&(0,t.collision)(e,r.hero)&&(r.hero.hit=!0,n.game.lifes-=1,setTimeout(function(){r.hero.hit=!1},2e3))},m=function(){h.forEach(function(e,r){d(e,r),l(e),e.y+=e.speed})},p=function(){h.length<=50&&(0,n.updateLevel)(),m(),h.forEach(function(r){e.ctx.fillStyle="rgb(165, 77, 105)",e.ctx.fillRect(r.x,r.y,r.width,r.height)})};exports.drawEnemies=p;var d=function(r,t){r.y>e.canvas.height&&h.splice(t,1)},g=function(){h=[]};exports.resetEnemies=g;
},{"../canvas":"Dryx","../hero":"04B3","../collision":"NO7M","../game":"QcRT","../utils":"FO+Z"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./keys"),a=require("./canvas"),n=require("./enemies"),t=require("./life"),i=require("./hero"),r=require("./game"),s=function(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),(0,n.drawEnemies)(),(0,t.drawLife)(),(0,i.drawHero)(),(0,r.drawStatusBar)()},u=function a(){setTimeout(function(){r.game.over&&e.keysMap.Space&&(0,r.reset)(),s(),0===r.game.lifes&&(0,r.gameOver)(),r.game.paused||requestAnimationFrame(a)},1e3/60)},c=function(){r.game.paused=!1,u()},o=function(){r.game.paused=!0,u()},d=function(){r.game.paused?c():o()};a.canvas.addEventListener("click",function(){a.canvas.focus()}),a.canvas.addEventListener("focus",function(){c()}),a.canvas.addEventListener("blur",function(){o()}),window.addEventListener("keydown",function(){"Space"===event.code&&d(),(0,e.populateKeysMap)()}),window.addEventListener("keyup",function(){(0,e.populateKeysMap)()});
},{"./keys":"BSXI","./canvas":"Dryx","./enemies":"0Hh9","./life":"AP9e","./hero":"04B3","./game":"QcRT"}]},{},["Focm"], null)
//# sourceMappingURL=/game/dist/src.4803dfa5.map